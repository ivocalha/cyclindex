<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" type="image/png" href="cyclindex_logo.png">
  <title>How It Works – Cyclindex</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    @font-face {
      font-family: 'Suissnord';
      src: url('Suissnord.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    *, *::before, *::after { box-sizing: border-box; }
    html, body { margin:0; padding:0; background:#0f172a; color:white; overflow-x:hidden; }

    /* FIXED NAVIGATION */
    .site-nav {
      position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
      background: rgba(15,23,42,0.95); backdrop-filter: blur(12px);
      padding: 1rem 1.5rem; box-shadow: 0 4px 20px rgba(0,0,0,0.5);
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .nav-links {
      display: flex; justify-content: center; gap: 1.8rem;
      flex-wrap: nowrap; overflow-x: auto; scrollbar-width: none;
      -ms-overflow-style: none; padding: 0.5rem 0;
    }
    .nav-links::-webkit-scrollbar { display: none; }
    .nav-links a {
      color: white; font-family: 'Suissnord', sans-serif; font-size: 1.1rem;
      text-decoration: none; padding: 0.5rem 1rem; border-radius: 0.8rem;
      transition: all .3s; white-space: nowrap; flex-shrink: 0;
    }
    .nav-links a:hover { background: rgba(59,130,246,.4); transform: translateY(-2px); }
    .nav-links a.active { background: rgba(59,130,246,.6); }

    main { padding-top: 80px; }

    /* SECTION STYLES */
    .db-section, .scoring-section, .specs-section {
      padding: 7rem 5vw 9rem;
      display: flex; flex-direction: column; align-items: center;
    }
    .scoring-section { background:#1e3a8a; }
    .specs-section   { background:#0f172a; }

    .section-title {
      font-family: 'Suissnord', sans-serif;
      font-size: clamp(3.5rem,8vw,5rem);
      font-weight: bold; margin-bottom: 6rem;
      text-shadow: 0 5px 28px rgba(0,0,0,.95); text-align:center;
    }

    /* DATABASE TABLE */
    .db-table {
      width: 100%; max-width: 1440px;
      border-collapse: separate; border-spacing: 0;
      background: rgba(255,255,255,0.095); backdrop-filter: blur(20px);
      border-radius: 2.4rem; overflow: hidden;
      box-shadow: 0 35px 100px rgba(0,0,0,0.75); table-layout: fixed;
    }
    .db-table th, .db-table td {
      padding: 1.8rem 1.2rem; text-align:center; font-size:1.24rem; line-height:1.5;
    }
    .db-table th {
      background:rgba(255,255,255,.19); font-family:'Suissnord',sans-serif;
      font-weight:bold; white-space:nowrap;
    }
    .db-table td:first-child, .db-table th:first-child {
      font-family:'Suissnord',sans-serif; font-weight:bold; white-space:nowrap;
    }
    .db-table tr:nth-child(2) td { background:rgba(34,197,94,.42); }
    .db-table tr:nth-child(3) td { background:rgba(239,68,68,.42); }
    .db-table tr:nth-child(4) td {
      background:rgba(30,58,138,.68); color:#d0e0ff;
      font-size:1.18rem; line-height:1.7; white-space:normal;
    }

    /* SCORING GRID */
    .scoring-grid {
      display:grid; grid-template-columns:1fr 1fr; gap:3.2rem;
      max-width:1760px; width:100%;
    }
    .panel {
      background:rgba(255,255,255,.16); backdrop-filter:blur(22px);
      border-radius:2.6rem; padding:2.8rem 2.6rem; text-align:center;
      transition:all .6s; box-shadow:0 35px 100px rgba(0,0,0,.7);
      border:1px solid rgba(255,255,255,.13); display:flex; flex-direction:column;
    }
    .panel:hover { transform:translateY(-24px); background:rgba(255,255,255,.34); box-shadow:0 50px 120px rgba(0,0,0,.92); }
    .panel.full-width { grid-column:1/-1; min-height:480px; padding:3.6rem 4rem; }

    .panel h3 {
      font-family:'Suissnord',sans-serif; font-size:2.1rem; font-weight:bold;
      color:white; margin-bottom:1.8rem;
    }
    .panel p {
      font-size:1.18rem; line-height:1.7; color:rgba(255,255,255,.99);
      margin:0 0 1rem; flex-grow:1;
    }
    .panel p:last-child { margin-bottom:0; }

    /* FORMULA – TWO LINES, CENTERED, TIGHT */
    .formula {
      background:rgba(0,0,0,.3); padding:0.9rem 1.2rem; border-radius:1rem;
      font-family:monospace; font-size:1.15rem; color:#c9f3a3;
      margin:1.2rem 0; text-align:center; line-height:1.6;
      white-space:pre-line;
    }

    .specs-table {
      width:100%; max-width:1200px; border-collapse:collapse;
      background:rgba(255,255,255,.1); backdrop-filter:blur(18px);
      border-radius:1.8rem; overflow:hidden; box-shadow:0 30px 90px rgba(0,0,0,.7);
    }
    .specs-table td {
      padding:2rem 2.2rem; border-bottom:1px solid rgba(255,255,255,.1);
      font-size:1.15rem; line-height:1.7;
    }
    .specs-table td:first-child {
      background:rgba(59,130,246,.3); font-weight:bold;
      font-family:'Suissnord',sans-serif; width:180px;
    }
    .specs-note { font-size:1.1rem; color:#94a3b8; margin-top:1.5rem; font-style:italic; }

    @media (max-width:768px){
      .nav-links a { font-size:1rem; padding:.4rem .8rem; }
      .section-title { font-size:2.8rem; margin-bottom:3rem; }
      .formula { font-size:1rem; padding:0.7rem 1rem; line-height:1.5; }
    }
  </style>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

  <!-- FIXED NAVIGATION -->
  <nav class="site-nav">
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="results-log.html">Results</a>
      <a href="rider-score.html">Riders</a>
      <a href="team-score.html">Teams</a>
      <a href="nation-score.html">Nations</a>
      <a href="how-it-works.html" class="active">How It Works</a>
    </div>
  </nav>

  <main>

    <!-- SECTION 1: DATABASE MODEL -->
    <section class="db-section">
      <h2 class="section-title">Database Model</h2>
      <table class="db-table">
        <tr><th></th><th>Gender</th><th>Discipline</th><th>Category</th><th>Tour Events</th><th>Champs</th><th>Time Trials</th></tr>
        <tr><td><strong>Inclusions</strong></td><td>Men</td><td>Road Race</td><td>Elite</td><td>x.UWT, x.PRO, x.1</td><td>Worlds & Olympics</td><td>Prologues & ITTs</td></tr>
        <tr><td><strong>Exclusions</strong></td><td>Women</td><td>Others</td><td>Others</td><td>Others</td><td>Continentals & Nationals</td><td>TTTs</td></tr>
        <tr><td><strong>Reasons</strong></td>
            <td>The initial testing database will be kept intentionally small but soon will be expanded.</td>
            <td colspan="3">Provides minimal or no analytical value relative to the increase in database size.</td>
            <td colspan="2">Potential performance level distortion resulting from complex points structures and/or mixed-gender events.</td>
        </tr>
      </table>
    </section>

    <!-- SECTION 2: SCORING LOGIC -->
    <section class="scoring-section">
      <h2 class="section-title">Scoring Logic</h2>
      <div class="scoring-grid">
        <div class="panel"><h3>UCI Points System</h3><p>Riders earn <strong>POINTS</strong> based on their results according to the current <strong>UCI POINTS</strong> scale. The most valuable achievement, winning the Tour de France, awards 1,300 UCI points. The next highest results, such as winning the Giro d’Italia or the Vuelta a España, award 1,100 UCI points, with subsequent placements and race categories scaled accordingly.</p></div>

        <div class="panel"><h3>Performance Level Ladder</h3><p>UCI results <strong>POINTS</strong> are normalized to a tiered <strong>LEVELS</strong> scale, where the most valuable possible result corresponds to Level 100, the second most valuable to Level 99, and so on, decreasing incrementally down the ladder.</p></div>

        <!-- RIDER SCORE FORMULA – TWO LINES, TIGHT & CLEAN -->
        <div class="panel full-width">
          <h3>Rider Score Formula</h3>
          <p>For each rider, only the n highest <strong>LEVEL</strong> results are used to calculate the final <strong>SCORE</strong>. The <strong>SCORE</strong> is determined using the following formula:</p>
          <div class="formula"> Score = [(L₁/2+50)·1 + (L₂/2+50)·C₂ + ... + (Lₙ/2+50)·Cₙ] × 100 ÷ [(HL₁/2+50)·1 + (HL₂/2+50)·C₂ + ... + (HLₙ/2+50)·Cₙ]
</div>
          <p>Where: • L₁, L₂, and Lₙ are the rider’s highest, second-highest, and n-highest Levels, respectively.</p>
		  <p>       • C₂, and Cₙ are the rider’s second-highest, and n-highest Levels Contributions, respectively.</p>
		  <p>• The contribution of each subsequent result is halved:
  $$ C_k = \frac{C_2}{2^{k-2}} \quad \text{for } k=2,3,\dots,n $$
  and the total weight from the 2nd to the nth best result is normalised to 1:
  $$ \sum_{k=2}^{n} C_k = 1 $$</p>
		  <p>       • HL₁, HL₂, and HLₙ are the highest, second-highest, and n-highest Possible Levels, respectively.</p>
		  <p>The maximum possible score is <strong>100</strong></p>
        </div>

        <div class="panel"><h3>Team SCORE/INDEX</h3><p>The final team <strong>SCORE/INDEX</strong> is determined by taking the simple average of the <strong>SCORES/INDEXES</strong> of its three highest-scoring riders.</p></div>
        <div class="panel"><h3>Nation SCORE/INDEX</h3><p>The final nation <strong>SCORE/INDEX</strong> is determined by taking the simple average of the <strong>SCORES/INDEXES</strong> of its three highest-scoring riders.</p></div>
      </div>
    </section>

    <!-- SECTION 3: SPECS DEFINITION -->
    <section class="specs-section">
      <h2 class="section-title">Specs Definition</h2>
      <table class="specs-table">
        <tr><td>OVERALL</td><td>All result types are included for every event in accordance with the structure defined in the database model.</td></tr>
      </table>
      <p class="specs-note">Other more specific Specs will be added soon.</p>
    </section>

  </main>

</body>
</html>
