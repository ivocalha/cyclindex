<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" type="image/png" href="cyclindex_logo.png">
  <title>How It Works – Cyclindex</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    @font-face {
      font-family: 'Suissnord';
      src: url('Suissnord.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    *, *::before, *::after { box-sizing: border-box; }
    html, body { margin:0; padding:0; background:#0f172a; color:white; overflow-x:hidden; }
    .container { min-height: 100vh; display: flex; flex-direction: column; }

    /* Site Navigation – Sticky at top */
    .nav-bar { 
      background: rgba(15,23,42,0.9); 
      backdrop-filter: blur(12px); 
      padding: 1rem 2rem; 
      position: sticky; 
      top: 0; 
      z-index: 1000; 
      box-shadow: 0 4px 20px rgba(0,0,0,0.5); 
    }
    .nav-links { 
      display: flex; 
      justify-content: center; 
      gap: 2rem; 
      flex-wrap: wrap; 
    }
    .nav-links a { 
      color: white; 
      font-family: 'Suissnord', sans-serif; 
      font-size: 1.1rem; 
      text-decoration: none; 
      padding: 0.5rem 1rem; 
      border-radius: 0.8rem; 
      transition: all 0.3s; 
    }
    .nav-links a:hover { 
      background: rgba(59,130,246,0.4); 
      transform: translateY(-2px); 
    }
    .nav-links a.active {
      background: rgba(59,130,246,0.4);
    }

    /* Section Navigation – Sticky below site nav */
    .section-nav {
      position: sticky;
      top: 80px; /* Adjust based on site nav height */
      background: rgba(15,23,42,0.9);
      backdrop-filter: blur(12px);
      padding: 1rem;
      z-index: 900;
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }
    .section-nav a {
      color: white;
      font-family: 'Suissnord', sans-serif;
      font-size: 1.1rem;
      text-decoration: none;
      padding: 0.5rem 1rem;
      border-radius: 0.8rem;
      transition: all 0.3s;
    }
    .section-nav a:hover {
      background: rgba(59,130,246,0.4);
      transform: translateY(-2px);
    }
    .section-nav a.active {
      background: rgba(59,130,246,0.4);
    }

    /* ===================== SECTION 1: DATABASE MODEL ===================== */
    .db-section {
      flex: 1;
      padding: 7rem 5vw 9rem;
      background: #0f172a;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .section-title {
      font-family: 'Suissnord', sans-serif;
      font-size: clamp(3.5rem, 8vw, 5rem);
      font-weight: bold;
      margin-bottom: 6rem;
      text-shadow: 0 5px 28px rgba(0,0,0,0.95);
      text-align: center;
    }
    .db-table {
      width: 100%;
      max-width: 1440px;
      border-collapse: separate;
      border-spacing: 0;
      background: rgba(255,255,255,0.095);
      backdrop-filter: blur(20px);
      border-radius: 2.4rem;
      overflow: hidden;
      box-shadow: 0 35px 100px rgba(0,0,0,0.75);
      table-layout: fixed;
    }
    .db-table th, .db-table td {
      padding: 1.8rem 1.2rem;
      text-align: center;
      font-size: 1.24rem;
      line-height: 1.5;
    }
    .db-table th {
      background: rgba(255,255,255,0.19);
      font-family: 'Suissnord', sans-serif;
      font-weight: bold;
      font-size: 1.24rem;
      white-space: nowrap;
    }
    .db-table td:first-child, .db-table th:first-child {
      font-family: 'Suissnord', sans-serif;
      font-weight: bold;
      font-size: 1.24rem;
      white-space: nowrap;
    }
    .db-table th:nth-child(5), .db-table th:nth-child(7) { white-space: normal; }
    .db-table tr:nth-child(2) td { background: rgba(34, 197, 94, 0.42); }
    .db-table tr:nth-child(3) td { background: rgba(239, 68, 68, 0.42); }
    .db-table tr:nth-child(4) td {
      background: rgba(30, 58, 138, 0.68);
      color: #d0e0ff;
      font-size: 1.18rem;
      line-height: 1.7;
      white-space: normal;
    }

    /* ===================== SECTION 2: SCORING LOGIC ===================== */
    .scoring-section {
      flex: 1;
      padding: 6rem 5vw 8rem;
      background: linear-gradient(to bottom, #0f172a, #1e3a8a);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .scoring-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2.5rem;
      max-width: 1440px;
      width: 100%;
    }
    .panel {
      background: rgba(255,255,255,0.12);
      backdrop-filter: blur(18px);
      border-radius: 1.8rem;
      padding: 2rem 1.8rem;
      box-shadow: 0 15px 45px rgba(0,0,0,0.55);
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 1.2rem;
    }
    .panel:hover {
      transform: translateY(-8px);
      box-shadow: 0 25px 60px rgba(0,0,0,0.65);
      background: rgba(255,255,255,0.18);
    }
    .panel h3 {
      font-family: 'Suissnord', sans-serif;
      font-size: 1.6rem;
      font-weight: bold;
      margin: 0;
      text-shadow: 0 2px 8px rgba(0,0,0,0.6);
    }
    .panel p {
      font-size: 1.05rem;
      line-height: 1.6;
      margin: 0;
    }
    .formula {
      background: rgba(0,0,0,0.35);
      padding: 1.2rem 1.6rem;
      border-radius: 1rem;
      font-family: monospace;
      font-size: 1.05rem;
      white-space: pre-wrap;
      text-align: center;
      width: 100%;
      max-width: 800px;
      box-shadow: inset 0 2px 10px rgba(0,0,0,0.4);
    }
    .full-width {
      grid-column: span 2;
    }

    /* ===================== SECTION 3: SPECS DEFINITION ===================== */
    .specs-section {
      flex: 1;
      padding: 6rem 5vw 10rem;
      background: #0f172a;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .specs-table {
      width: 100%;
      max-width: 1200px;
      border-collapse: separate;
      border-spacing: 0;
      background: rgba(255,255,255,0.095);
      backdrop-filter: blur(20px);
      border-radius: 2.4rem;
      overflow: hidden;
      box-shadow: 0 35px 100px rgba(0,0,0,0.75);
      table-layout: fixed;
    }
    .specs-table td {
      padding: 1.8rem 1.2rem;
      text-align: center;
      font-size: 1.24rem;
      line-height: 1.5;
    }
    .specs-table td:first-child {
      font-family: 'Suissnord', sans-serif;
      font-weight: bold;
      background: rgba(255,255,255,0.19);
      width: 30%;
    }
    .specs-note {
      margin-top: 2rem;
      font-size: 1.1rem;
      color: #d1d5db;
      text-align: center;
    }

    @media (max-width: 1024px) {
      .scoring-grid { grid-template-columns: 1fr; }
      .full-width { grid-column: span 1; }
      .section-nav { top: 60px; flex-direction: row; left: 0; right: 0; transform: none; padding: 0.5rem; gap: 1rem; }
      .nav-item { font-size: 1rem; padding: 0.4rem 0.8rem; }
    }

    @media (max-width: 768px) {
      .section-title { font-size: clamp(2.5rem, 8vw, 4rem); margin-bottom: 4rem; }
      .db-section, .scoring-section, .specs-section { padding: 5rem 4vw; }
      .db-table th, .db-table td, .specs-table td { font-size: 1.05rem; padding: 1.4rem 1rem; }
      .panel { padding: 1.6rem 1.4rem; gap: 1rem; }
      .panel h3 { font-size: 1.4rem; }
      .panel p, .formula { font-size: 0.95rem; }
    }
  </style>
</head>
<body>

  <!-- Site Navigation – Sticky at top -->
  <nav class="nav-bar">
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="results-log.html">Results Log</a>
      <a href="rider-score.html">Rider Score</a>
      <a href="team-score.html">Team Score</a>
      <a href="nation-score.html">Nation Score</a>
      <a href="how-it-works.html" class="active">How It Works</a>
    </div>
  </nav>

  <!-- Section Navigation – Sticky below site nav -->
  <nav class="section-nav">
    <a href="#db-model" class="nav-item active">Database Model</a>
    <a href="#scoring-logic" class="nav-item">Scoring Logic</a>
    <a href="#specs" class="nav-item">Specs Definition</a>
  </nav>

  <div class="container">

    <!-- SECTION 1: DATABASE MODEL -->
    <section id="db-model" class="db-section">
      <h2 class="section-title">Database Model</h2>
      
      <table class="db-table">
        <thead>
          <tr>
            <th>Aspect</th>
            <th>Inclusions</th>
            <th>Exclusions</th>
            <th>Reasons</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Gender</td>
            <td>Men</td>
            <td>Women</td>
            <td>Initial testing database kept small.</td>
          </tr>
          <tr>
            <td>Discipline</td>
            <td>Road Race</td>
            <td>Others</td>
            <td>Minimal analytical value vs. size increase.</td>
          </tr>
          <tr>
            <td>Category</td>
            <td>Elite</td>
            <td>Others</td>
            <td>-</td>
          </tr>
          <tr>
            <td>Tour Events</td>
            <td>x.UWT, x.PRO, x.1</td>
            <td>Others</td>
            <td>-</td>
          </tr>
          <tr>
            <td>Champs</td>
            <td>Worlds & Olympics</td>
            <td>Continentals & Nationals</td>
            <td>Potential distortion from points structures or mixed-gender events.</td>
          </tr>
          <tr>
            <td>Time Trials</td>
            <td>Prologues & ITTs</td>
            <td>TTTs</td>
            <td>-</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- SECTION 2: SCORING LOGIC -->
    <section id="scoring-logic" class="scoring-section">
      <h2 class="section-title">Scoring Logic</h2>
      
      <div class="scoring-grid">
        
        <div class="panel panel-1">
          <h3>UCI Points System</h3>
          <p>Riders earn points based on their results according to the current UCI points scale. The most valuable achievement, winning the Tour de France, awards 1,300 UCI points. The next highest results, such as winning the Giro d’Italia or the Vuelta a España, award 1,100 UCI points, with subsequent placements and race categories scaled accordingly.</p>
        </div>
        
        <div class="panel panel-2">
          <h3>Performance Level Ladder</h3>
          <p>UCI result points are normalized to a tiered Levels scale, where the most valuable possible result corresponds to Level 100, the second most valuable to Level 99, and so on, decreasing incrementally down the ladder.</p>
        </div>
        
        <div class="panel panel-3 full-width">
          <h3>Rider Score Formula</h3>
          <p>For each rider, only the three highest Level results are used to calculate the final score. The score is determined using the following formula:</p>
          <div class="formula">
            Score = [(L₁/2 + 50)·1 + (L₂/2 + 50)·0.67 + (L₃/2 + 50)·0.33] × 100<br>
                    ÷ [(100/2 + 50)·1 + (99/2 + 50)·0.67 + (99/2 + 50)·0.33]
          </div>
          <p>Where: • L₁, L₂, and L₃ are the rider’s highest, second-highest, and third-highest Levels, respectively.<br>The maximum possible score is <strong>100</strong>, achieved only by a rider who wins the Tour de France, Giro d’Italia, and Vuelta a España in the same season.</p>
        </div>
        
        <div class="panel panel-4">
          <h3>Team Score</h3>
          <p>The final team score is determined by taking the simple average of the scores of its three highest-scoring riders.</p>
        </div>
        
        <div class="panel panel-5">
          <h3>Nation Score</h3>
          <p>The final nation score is determined by taking the simple average of the scores of its three highest-scoring riders.</p>
        </div>
        
      </div>
    </section>

    <!-- SECTION 3: SPECS DEFINITION -->
    <section id="specs" class="specs-section">
      <h2 class="section-title">Specs Definition</h2>
      <table class="specs-table">
        <tr>
          <td>OVERALL</td>
          <td>All result types are included for every event in accordance with the structure defined in the database model.</td>
        </tr>
      </table>
      <p class="specs-note">Other more specific Specs will be added soon.</p>
    </section>

  </div>
</body>
</html>
