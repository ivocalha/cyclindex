<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" type="image/png" href="cyclindex_logo.png">
  <title>How It Works – Cyclindex</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    @font-face {
      font-family: 'Suissnord';
      src: url('Suissnord.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    *, *::before, *::after { box-sizing: border-box; }
    html, body { margin:0; padding:0; background:#0f172a; color:white; overflow-x:hidden; }

    /* ===================== SITE NAVIGATION (MATCHES rider-score.html) ===================== */
    .site-nav {
      background: rgba(15,23,42,0.95);
      backdrop-filter: blur(12px);
      padding: 1rem 2rem;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .site-links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
      max-width: 1200px;
      margin: 0 auto;
    }
    .site-links a {
      color: white;
      font-family: 'Suissnord', sans-serif;
      font-size: 1.1rem;
      text-decoration: none;
      padding: 0.5rem 1rem;
      border-radius: 0.8rem;
      transition: all 0.3s;
    }
    .site-links a:hover {
      background: rgba(59,130,246,0.4);
      transform: translateY(-2px);
    }
    .site-links a.active {
      background: rgba(59,130,246,0.6);
      font-weight: bold;
    }

    /* ===================== SECTION NAVIGATION (HORIZONTAL, FIXED BELOW) ===================== */
    .section-nav {
      background: rgba(30,58,138,0.85);
      backdrop-filter: blur(14px);
      padding: 0.7rem 1rem;
      position: sticky;
      top: 70px;
      z-index: 900;
      box-shadow: 0 4px 15px rgba(0,0,0,0.4);
      border-bottom: 1px solid rgba(255,255,255,0.12);
    }
    .section-links {
      display: flex;
      justify-content: center;
      gap: 1.8rem;
      flex-wrap: wrap;
      max-width: 1000px;
      margin: 0 auto;
    }
    .section-links a {
      color: rgba(255,255,255,0.9);
      font-family: 'Suissnord', sans-serif;
      font-size: 1rem;
      text-decoration: none;
      padding: 0.45rem 1.1rem;
      border-radius: 0.7rem;
      transition: all 0.3s;
      white-space: nowrap;
    }
    .section-links a:hover {
      background: rgba(99,102,241,0.4);
      color: white;
      transform: translateY(-1px);
    }
    .section-links a.active {
      background: rgba(99,102,241,0.6);
      color: white;
      font-weight: bold;
    }

    /* ===================== MAIN CONTENT ===================== */
    .main-content {
      padding: 2rem 4vw 10rem;
      max-width: 1760px;
      margin: 0 auto;
    }
    .section {
      scroll-margin-top: 160px;
      padding: 3rem 0;
    }

    /* ===================== DATABASE MODEL ===================== */
    .db-table {
      width: 100%;
      max-width: 1440px;
      border-collapse: separate;
      border-spacing: 0;
      background: rgba(255,255,255,0.095);
      backdrop-filter: blur(20px);
      border-radius: 2.4rem;
      overflow: hidden;
      box-shadow: 0 35px 100px rgba(0,0,0,0.75);
      table-layout: fixed;
    }
    .db-table th, .db-table td {
      padding: 1.8rem 1.2rem;
      text-align: center;
      font-size: 1.24rem;
      line-height: 1.5;
    }
    .db-table th {
      background: rgba(255,255,255,0.19);
      font-family: 'Suissnord', sans-serif;
      font-weight: bold;
      font-size: 1.24rem;
      white-space: nowrap;
    }
    .db-table td:first-child, .db-table th:first-child {
      font-family: 'Suissnord', sans-serif;
      font-weight: bold;
      font-size: 1.24rem;
      white-space: nowrap;
    }
    .db-table th:nth-child(5), .db-table th:nth-child(7) { white-space: normal; }
    .db-table tr:nth-child(2) td { background: rgba(34, 197, 94, 0.42); }
    .db-table tr:nth-child(3) td { background: rgba(239, 68, 68, 0.42); }
    .db-table tr:nth-child(4) td {
      background: rgba(30, 58, 138, 0.68);
      color: #d0e0ff;
      font-size: 1.18rem;
      line-height: 1.7;
      white-space: normal;
    }

    /* ===================== SCORING LOGIC ===================== */
    .scoring-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto auto auto;
      gap: 3.2rem;
      max-width: 1760px;
      width: 100%;
    }
    .panel {
      background: rgba(255,255,255,0.16);
      backdrop-filter: blur(22px);
      border-radius: 2.6rem;
      padding: 2.8rem 2.6rem;
      text-align: center;
      transition: all 0.6s ease;
      box-shadow: 0 35px 100px rgba(0,0,0,0.7);
      border: 1px solid rgba(255,255,255,0.13);
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .panel:hover {
      transform: translateY(-24px);
      background: rgba(255,255,255,0.34);
      box-shadow: 0 50px 120px rgba(0,0,0,0.92);
    }
    .panel.full-width {
      grid-column: 1 / -1;
      min-height: 580px;
      padding: 3.6rem 4rem;
    }
    .panel h3 {
      font-family: 'Suissnord', sans-serif;
      font-size: 2.1rem;
      font-weight: bold;
      color: white;
      margin-bottom: 1.8rem;
      line-height: 1.25;
    }
    .panel p {
      font-size: 1.18rem;
      line-height: 1.7;
      color: rgba(255,255,255,0.99);
      margin: 0 0 1.5rem;
    }
    .formula {
      background: rgba(0,0,0,0.3);
      padding: 1.4rem;
      border-radius: 1rem;
      font-family: monospace;
      font-size: 1.1rem;
      color: #c9f3a3;
      margin: 1.5rem 0;
      text-align: left;
      white-space: pre-line;
    }

    /* ===================== SPECS DEFINITION ===================== */
    .specs-table {
      width: 100%;
      max-width: 1200px;
      border-collapse: collapse;
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(18px);
      border-radius: 1.8rem;
      overflow: hidden;
      box-shadow: 0 30px 90px rgba(0,0,0,0.7);
    }
    .specs-table td {
      padding: 2rem 2.2rem;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      font-size: 1.15rem;
      line-height: 1.7;
    }
    .specs-table td:first-child {
      background: rgba(59,130,246,0.3);
      font-weight: bold;
      font-family: 'Suissnord', sans-serif;
      width: 180px;
    }
    .specs-note {
      font-size: 1.1rem;
      color: #94a3b8;
      margin-top: 1.5rem;
      font-style: italic;
    }

    /* Responsive */
    @media (max-width: 992px) {
      .section-links { gap: 1rem; }
      .section-links a { font-size: 0.98rem; padding: 0.4rem 1rem; }
    }
    @media (max-width: 768px) {
      .site-links { gap: 1rem; }
      .site-links a { font-size: 1rem; padding: 0.4rem 0.8rem; }
      .section-links { gap: 0.8rem; }
      .section-links a { font-size: 0.92rem; padding: 0.35rem 0.8rem; }
      .section-nav { top: 64px; }
    }
    @media (max-width: 480px) {
      .section-links a { font-size: 0.88rem; padding: 0.3rem 0.6rem; }
    }
  </style>
</head>
<body>

  <!-- SITE NAVIGATION (FIXED, SAME AS rider-score.html) -->
  <nav class="site-nav">
    <div class="site-links">
      <a href="index.html">Home</a>
      <a href="results-log.html">Results Log</a>
      <a href="rider-score.html">Rider Score</a>
      <a href="team-score.html">Team Score</a>
      <a href="nation-score.html">Nation Score</a>
      <a href="how-it-works.html" class="active">How It Works</a>
    </div>
  </nav>

  <!-- SECTION NAVIGATION (HORIZONTAL, FIXED BELOW) -->
  <div class="section-nav">
    <div class="section-links">
      <a href="#database-model" class="active">Database Model</a>
      <a href="#scoring-logic">Scoring Logic</a>
      <a href="#specs-definition">Specs Definition</a>
    </div>
  </div>

  <!-- MAIN CONTENT -->
  <div class="main-content">

    <!-- SECTION 1: DATABASE MODEL (NO TITLE) -->
    <section id="database-model" class="section">
      <table class="db-table">
        <tr>
          <th></th>
          <th>Gender</th>
          <th>Discipline</th>
          <th>Category</th>
          <th>Tour Events</th>
          <th>Champs</th>
          <th>Time Trials</th>
        </tr>
        <tr>
          <td><strong>Inclusions</strong></td>
          <td>Men</td>
          <td>Road Race</td>
          <td>Elite</td>
          <td>x.UWT, x.PRO, x.1</td>
          <td>Worlds & Olympics</td>
          <td>Prologues & ITTs</td>
        </tr>
        <tr>
          <td><strong>Exclusions</strong></td>
          <td>Women</td>
          <td>Others</td>
          <td>Others</td>
          <td>Others</td>
          <td>Continentals & Nationals</td>
          <td>TTTs</td>
        </tr>
        <tr>
          <td><strong>Reasons</strong></td>
          <td>The initial testing database will be kept intentionally small and will be expanded as soon as possible.</td>
          <td colspan="3">Provides minimal or no analytical value relative to the increase in database size.</td>
          <td colspan="2">Potential performance level distortion resulting from complex points structures and/or mixed-gender event comparisons.</td>
        </tr>
      </table>
    </section>

    <!-- SECTION 2: SCORING LOGIC (NO TITLE) -->
    <section id="scoring-logic" class="section">
      <div class="scoring-grid">
        <div class="panel">
          <h3>UCI Points System</h3>
          <p>Riders earn points based on their results according to the current UCI points scale. The most valuable achievement, winning the Tour de France, awards 1,300 UCI points. The next highest results, such as winning the Giro d’Italia or the Vuelta a España, award 1,100 UCI points, with subsequent placements and race categories scaled accordingly.</p>
        </div>
        <div class="panel">
          <h3>Performance Level Ladder</h3>
          <p>UCI result points are normalized to a tiered Levels scale, where the most valuable possible result corresponds to Level 100, the second most valuable to Level 99, and so on, decreasing incrementally down the ladder.</p>
        </div>
        <div class="panel full-width">
          <h3>Rider Score Formula</h3>
          <p>For each rider, only the three highest Level results are used to calculate the final score. The score is determined using the following formula:</p>
          <div class="formula">
            Score = [(L₁/2 + 50)·1 + (L₂/2 + 50)·0.67 + (L₃/2 + 50)·0.33] × 100<br>
                    ÷ [(100/2 + 50)·1 + (99/2 + 50)·0.67 + (99/2 + 50)·0.33]
          </div>
          <p>Where: • L₁, L₂, and L₃ are the rider’s highest, second-highest, and third-highest Levels, respectively.<br>The maximum possible score is <strong>100</strong>, achieved only by a rider who wins the Tour de France, Giro d’Italia, and Vuelta a España in the same season.</p>
        </div>
        <div class="panel">
          <h3>Team Score</h3>
          <p>The final team score is determined by taking the simple average of the scores of its three highest-scoring riders.</p>
        </div>
        <div class="panel">
          <h3>Nation Score</h3>
          <p>The final nation score is determined by taking the simple average of the scores of its three highest-scoring riders.</p>
        </div>
      </div>
    </section>

    <!-- SECTION 3: SPECS DEFINITION (NO TITLE) -->
    <section id="specs-definition" class="section">
      <table class="specs-table">
        <tr>
          <td>OVERALL</td>
          <td>All result types are included for every event in accordance with the structure defined in the database model.</td>
        </tr>
      </table>
      <p class="specs-note">Other more specific Specs will be added soon.</p>
    </section>

  </div>

  <!-- Smooth Scroll + Active Section Highlight -->
  <script>
    // Smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          window.scrollTo({
            top: target.offsetTop - 150,
            behavior: 'smooth'
          });
        }
      });
    });

    // Highlight active section
    const sections = ['database-model', 'scoring-logic', 'specs-definition'];
    const sectionLinks = document.querySelectorAll('.section-links a');

    function updateActiveSection() {
      let current = '';
      sections.forEach(sec => {
        const el = document.getElementById(sec);
        if (el && window.scrollY >= el.offsetTop - 200) {
          current = sec;
        }
      });

      sectionLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${current}`) {
          link.classList.add('active');
        }
      });
    }

    window.addEventListener('scroll', updateActiveSection);
    window.addEventListener('load', updateActiveSection);
  </script>
</body>
</html>
